<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1">
    <title>React Test</title>
    <link rel="stylesheet" href="/style.min.css">

    <link
      rel="icon"
      type="image/png"
      href="https://react-test.dev/favicon.png"
    />
    <meta
      name="description"
      content="Test your React components easily with React Test"
    />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://react-test.dev/" />
    <meta name="twitter:title" content="React Test" />

    <meta
      name="twitter:description"
      content="Test your React components easily with React Test"
    />
    <meta property="og:title" content="React Test" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://react-test.dev/" />
    <meta
      property="og:image"
      content="http://react-test.dev/hero.jpg"
    />
    <meta
      property="og:description"
      content="Test your React components easily with React Test"
    />
  </head>
  <body>
    <div class="flex">
      <div>
        <aside>
          
      <div class="entry primary">
        <label class="more"></label>
        <a href="#docs"><h2>React Test</h2></a>
      </div>
      <section>
    
        <div class="entry secondary">
          
          <a href="#getting-started">Getting Started</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#basics-of-testing">Basics of testing</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#faq">FAQ</a>
        </div>
      </section>
        <div class="entry primary">
          <label class="more"></label>
          <a href="#library-api">Library API</a>
        </div>
      <section>
        <div class="entry secondary">
          
          <a href="#attr">.attr()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#children">.children()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#click">.click()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#closest">.closest()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#find">.find()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#html">.html()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#is">.is()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#text">.text()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#toarray">.toArray()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#trigger">.trigger()</a>
        </div>
      </section>
        <div class="entry primary">
          <label class="more"></label>
          <a href="#jest-matchers">Jest Matchers</a>
        </div>
      <section>
        <div class="entry secondary">
          
          <a href="#tobeenabled">.toBeEnabled()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohaveclass">.toHaveClass()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavehtml">.toHaveHtml()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavestyle">.toHaveStyle()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavetext">.toHaveText()</a>
        </div>
      
        <div class="entry secondary">
          
          <a href="#tohavevalue">.toHaveValue()</a>
        </div>
      
        </aside>
      </div>
      <div id="docs">
        <main><h1 id="react-test-npm-install-react-test-test-badge-gzip-size">React Test <a href="https://www.npmjs.com/package/react-test"><img src="https://img.shields.io/badge/npm%20install-react--test-blue.svg" alt="npm install react-test"></a> <a href="https://github.com/franciscop/react-test/actions"><img src="https://github.com/franciscop/react-test/workflows/tests/badge.svg" alt="test badge"></a> <a href="https://github.com/franciscop/react-test/blob/master/index.min.js"><img src="https://img.badgesize.io/franciscop/react-test/master/index.min.js.svg?compression=gzip" alt="gzip size"></a></h1>
<blockquote>
<p>Early package! We are <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md">looking for <strong>beginner Open Source contributors</strong></a>! ❤️</p>
</blockquote>
<p>A complete and expressive testing library for React:</p>
<pre><code class="language-js">import $ from &quot;react-test&quot;;

it(&quot;increments the counter when clicked&quot;, async () =&gt; {
  const counter = $(&lt;Counter /&gt;);
  expect(counter.text()).toEqual(&quot;0&quot;);
  await counter.click();
  expect(counter.text()).toEqual(&quot;1&quot;);
});</code></pre>
<p>Its syntax follows a similar schema to jQuery so it&#39;s very easy to write expressive tests. The best way to test declarative code is with an imperative library.</p>
<h3 id="getting-started">Getting Started</h3>
<p>You need a React project already working. That&#39;s on you, but we recommend <a href="https://create-react-app.dev/">Create React App</a>:</p>
<pre><code class="language-bash">npx create-react-app my-app
cd my-app</code></pre>
<p>Then you install <code>react-test</code>, only for development:</p>
<pre><code class="language-bash">npm install react-test --save-dev</code></pre>
<p>Now you can write tests, let&#39;s say you have this component:</p>
<pre><code class="language-js">// src/Counter.js
import React, { useState } from &quot;react&quot;;

export default function Counter () {
  const [count, setCount] = useState(0);
  const increment = () =&gt; setCount(count + 1);
  return &lt;button onClick={increment}&gt;{count}&lt;/button&gt;;
};</code></pre>
<p>You can write the following test to make sure it&#39;s working:</p>
<pre><code class="language-js">// src/Counter.test.js
import React from &quot;react&quot;;
import $ from &quot;react-test&quot;;
import Counter from &quot;./Counter&quot;;

describe(&quot;Counter.js&quot;, () =&gt; {
  it(&quot;is initialized to 0&quot;, () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    expect(counter.text()).toBe(&quot;0&quot;);
  });

  it(&quot;can be incremented with a click&quot;, async () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    await counter.click();
    expect(counter.text()).toBe(&quot;1&quot;);
  });

  it(&quot;can be incremented multiple times&quot;, async () =&gt; {
    const counter = $(&lt;Counter /&gt;);
    await counter.click();
    await counter.click();
    await counter.click();
    expect(counter.text()).toBe(&quot;3&quot;);
  });
});</code></pre>
<p>Finally run the tests with Jest:</p>
<pre><code class="language-bash">npm run test</code></pre>
<h3 id="basics-of-testing">Basics of testing</h3>
<blockquote>
<p>TODO: add some intro to testing and best practices here</p>
</blockquote>
<h3 id="faq">FAQ</h3>
<h4 id="is-this-an-official-facebookreact-library">Is this an official Facebook/React library?</h4>
<p>No. This follows the community convention of calling a library related to React as <code>react-NAME</code>. It is made <a href="https://github.com/franciscop/react-test/graphs/contributors">by these contributors</a> without any involvement of Facebook or <a href="https://reactjs.org/">React</a>.</p>
<h4 id="how-can-i-contribute">How can I contribute?</h4>
<p>Thanks! Please read the <a href="./Contributing.md">Contributing Guide</a> where we explain how to get started with the project. Right now there are <a href="https://github.com/franciscop/react-test/labels/good%20first%20issue">some beginner-friendly issues</a> so please feel free to implement those!</p>
<p>I will try to help as much as possible on the PRs.</p>
<h4 id="i-have-a-problem-how-do-i-fix-it">I have a problem, how do I fix it?</h4>
<p>Don&#39;t sweat it, <a href="https://github.com/franciscop/react-test/issues/new">just open an issue</a>. React Test is in an early phase with incomplete documentation so feel free to read the code or ask directly in the issues.</p>
<p>This will change once the library is more stable, there&#39;s more documentation and if the community grows (maybe a chat, or reddit group, or ...).</p>


<h2 id="library-api">Library API</h2>


<h3 id="attr">.attr()</h3>
<p>Read the attributes for the first matched element:</p>
<pre><code class="language-js">.attr(&quot;name&quot;)</code></pre>
<p>It will read the attributes of the matched elements:</p>
<pre><code class="language-js">const $input = $(&lt;input name=&quot;email&quot; placeholder=&quot;me@example.com&quot; /&gt;);
expect($input.attr(&quot;name&quot;)).toBe(&quot;email&quot;);
expect($input.attr(&quot;placeholder&quot;)).toBe(&quot;me@example.com&quot;);</code></pre>
<h4 id="example-external-links-have-noopener-noreferrer">Example: external links have &quot;noopener noreferrer&quot;</h4>
<pre><code class="language-js">// Find all of the external links first
const $links = $(&lt;Page /&gt;).find(&quot;a[target=_blank]&quot;);

// Get an array witth the rel= attributes
const rels = $links.toArray().map(link =&gt; $(link).attr(&quot;rel&quot;));

// Make sure they follow the schema
for (let rel of rels) {
  expect(rel).toBe(&quot;noopener noreferrer&quot;);
}</code></pre>
<p>TODO: with shortname:</p>
<pre><code class="language-js">// Find all of the external links first
const $links = $(&lt;Page /&gt;).find(&quot;a[target=_blank]&quot;);

// Make sure they *all* have rel=&quot;noopener noreferrer&quot;
expect($links).toHaveAttribute(&#39;rel&#39;, &#39;noopener noreferrer&#39;);</code></pre>


<h3 id="children">.children()</h3>
<p>Get the direct children of all of the nodes with an optional filter</p>
<pre><code class="language-js">.children(filter)</code></pre>


<h3 id="click">.click()</h3>
<p>Calls a click event on all of the matched nodes</p>
<pre><code class="language-js">.click()</code></pre>
<p>For <code>.click()</code>, you can pass a selector and/or a running time:</p>
<ul>
<li><code>.click(&#39;button&#39;)</code> (string): the child element that receives the click. Leave it empty to click the current element. This is a shorthand of <code>.find(selector).click()</code> for convenience.</li>
<li><code>.click(100)</code> (number): the time to <em>wait</em> after the click for the effect to be settled. If they are not immediate (API call, timeouts, transitions, etc) make sure that the time is longer than the effect. Internally this will wrap the effect with an <a href="https://reactjs.org/docs/test-utils.html#act">act()</a> that works for the specified time.</li>
</ul>
<p>You can combine them as well:</p>
<pre><code class="language-js">it(&#39;clicks all buttons inside&#39;, async () =&gt; {
  const $dom = $(&lt;Counter /&gt;);
  expect($dom.text()).toEqual(&quot;0&quot;);
  await $dom.click(&#39;button&#39;);
  expect($dom.text()).toEqual(&quot;1&quot;);
});</code></pre>


<h3 id="closest">.closest()</h3>
<p>Find the first ancestor that matches the selector for each node</p>
<pre><code class="language-js">.closest(filter)</code></pre>


<h3 id="find">.find()</h3>
<p>Get all of the descendants of the nodes with an optional filter</p>
<pre><code class="language-js">.find(filter)</code></pre>


<h3 id="html">.html()</h3>
<p>Retrieve the html of the elements:</p>
<pre><code class="language-js">.html()</code></pre>


<h3 id="is">.is()</h3>
<p>Check whether any of the nodes matches the selector:</p>
<pre><code class="language-js">.is(&#39;a&#39;)
.is(&#39;.active&#39;)</code></pre>


<h3 id="text">.text()</h3>
<p>Retrieve the textContent of the elements:</p>
<pre><code class="language-js">.text()</code></pre>


<h3 id="toarray">.toArray()</h3>
<p>Get all of the currently matched nodes as a plain array:</p>
<pre><code class="language-js">const List = () =&gt; (
  &lt;ul&gt;
    &lt;li&gt;A&lt;/li&gt;
    &lt;li&gt;B&lt;/li&gt;
  &lt;/ul&gt;
);

// Find the text of each node
const text = $(&lt;List /&gt;)
  .children()
  .toArray()
  .map(item =&gt; $(item).text());

expect(text).toEqual([&quot;A&quot;, &quot;B&quot;]);</code></pre>


<h3 id="trigger">.trigger()</h3>
<p>Trigger an event. Right now it only accepts &#39;click&#39;.</p>
<pre><code class="language-js">.trigger()</code></pre>


<h2 id="jest-matchers">Jest Matchers</h2>


<h3 id="tobeenabled">.toBeEnabled()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ❤️</p>


<h3 id="tohaveclass">.toHaveClass()</h3>
<p>Check whether all of the matched elements have the expected class name:</p>
<pre><code class="language-js">const $button = $(
  &lt;button className=&quot;primary&quot;&gt;
    Click me
  &lt;/button&gt;
);

expect($button).toHaveClass(&#39;primary&#39;);
expect($button).not.toHaveClass(&#39;secondary&#39;);</code></pre>
<p>For list of items, it checks whether <strong>all of them match</strong> or <strong>none of them match</strong>:</p>
<pre><code class="language-js">const $list = $(
  &lt;ul&gt;
    &lt;li className=&quot;item main&quot;&gt;a&lt;/li&gt;
    &lt;li className=&quot;item secondary&quot;&gt;b&lt;/li&gt;
  &lt;/ul&gt;
);

// All of them have the class item
expect($list.find(&#39;li&#39;)).toHaveClass(&#39;item&#39;);

// None of them has the class &quot;primary&quot;
expect($list.find(&#39;li&#39;)).not.toHaveClass(&#39;primary&#39;);</code></pre>
<p>For the same React code, these <strong>do not pass</strong>:</p>
<pre><code class="language-js">// ERROR! Only one of them has the class &quot;main&quot;
expect($list.find(&#39;li&#39;)).toHaveClass(&#39;main&#39;);
// Expected &lt;li class=&quot;item secondary&quot;&gt; to include class &quot;main&quot;

// ERROR! At least one of them has the class &quot;main&quot;
expect($list.find(&#39;li&#39;)).not.toHaveClass(&#39;main&#39;);
// Expected &lt;li class=&quot;item main&quot;&gt; not to include class &quot;main&quot;</code></pre>


<h3 id="tohavehtml">.toHaveHtml()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ❤️</p>


<h3 id="tohavestyle">.toHaveStyle()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ❤️</p>


<h3 id="tohavetext">.toHaveText()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ❤️</p>


<h3 id="tohavevalue">.toHaveValue()</h3>
<p>This method <a href="https://github.com/franciscop/react-test/blob/master/Contributing.md"><strong>is looking for a beginner OSS contributor</strong></a> ❤️</p>
</main>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/umbrellajs"></script>
    <script src="/prism.min.js"></script>
    <script src="/script.js"></script>
  </body>
</html>
